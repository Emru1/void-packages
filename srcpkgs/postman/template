# Template file for 'postman'
pkgname=postman
version=8.5.1
revision=2
archs="x86_64"
hostmakedepends="tar gzip"
short_desc="Platform for API develpoment"
maintainer="Emil Tomczyk <emil.tomczyk@skni.umcs.pl>"
license="custom:Proprietary"
homepage="https://www.postman.com/"
distfiles="https://dl.pstmn.io/download/version/${version}/linux64"
checksum=e78b6b66af5a48a043c1f0abcf1e626da2168c1c47afdbc57b8d335d60ba3f8f
restricted=yes
repository="nonfree"
nopie=yes

do_extract() {
	tar zxf ${XBPS_SRCDISTDIR}/${pkgname}-${version}/linux64
}

do_install() {
	vlicense Postman/app/LICENSE
	vinstall Postman/app/resources/app/assets/icon.png 644 usr/share/pixmaps postman.png
	vinstall ${FILESDIR}/postman.desktop 644 usr/share/applications
	mkdir ${DESTDIR}/usr/bin
	vcopy Postman/app usr/lib/postman
	ln -s ../lib/postman/Postman ${DESTDIR}/usr/bin/postman
}
